name: 钉钉机器人消息发送
description: 钉钉机器人消息发送

branding:
  icon: 'message-square'
  color: 'green'

inputs:
  token:
    description: '机器人令牌'
    required: true
  status:
    description: '执行状态(-1 启动 0 成功 1 失败)'
    required: true
    default: -1

runs:
  using: composite
  steps:
    - name: Sending Dingtalk Robot Message
      uses: wow-actions/dingtalk-notify@v1
      with:
        token: ${{ inputs.token }}
        msgtype: 'actionCard'
        content: |
          {
            "msgtype": "actionCard",
            "actionCard": {
                "title": "我 20 年前想打造一间苹果咖啡厅，而它正是 Apple Store 的前身", 
                "text": "![screenshot](https://img.alicdn.com/tfs/TB1NwmBEL9TBuNjy1zbXXXpepXa-2400-1218.png) \n\n #### 乔布斯 20 年前想打造的苹果咖啡厅 \n\n Apple Store 的设计正从原来满满的科技感走向生活化，而其生活化的走向其实可以追溯到 20 年前苹果一个建立咖啡馆的计划", 
                "btnOrientation": "0", 
                "btns": [
                    {
                        "title": "内容不错", 
                        "actionURL": "https://www.dingtalk.com/"
                    }, 
                    {
                        "title": "不感兴趣", 
                        "actionURL": "https://www.dingtalk.com/"
                    }
                ]
            }
         }
